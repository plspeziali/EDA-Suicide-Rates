sc_data_Dim1 <- unique(sc_data$Dim1.type)
length_of_Dim1 <- length(sc_data_Dim1n)
sc_data_Period <- unique(sc_data$Period.type)
length_of_Period <- length(sc_data_Period)
# Period.type doesn't
sc_data_Location <- unique(sc_data$Location.type)
length_of_Location <- length(sc_data_Location)
# Location.type doesn't
sc_data_Dim1 <- unique(sc_data$Dim1.type)
length_of_Dim1 <- length(sc_data_Dim1)
# Dim1.type doesn't
sc_data_ValueType <- unique(sc_data$ValueType)
length_of_ValueType <- length(sc_data_ValueType)
# ValueType doesn't
head(sc_data)
names(sc_data)
summary(sc_data)
to_select <-
c("ParentLocation", "Location", "Period", "Dim1",
"FactValueNumeric", "FactValueNumericHigh", "Value");
sc_data[ , (names(sc_data) %in% to_select)]
head(sc_data)
names(sc_data)
summary(sc_data)
sc_data_R <- sc_data[ , (names(sc_data) %in% to_select)]
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Period = Year,
Dim1 = Sex,
Mean = FactValueNumeric)
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Year = Period,
Sex = Dim1,
Mean = FactValueNumeric)
View(sc_data_R)
View(sc_data_R)
## Loading dependencies
library(kableExtra)
library(car)
library(dplyr)
library(ggplot2)
library(vioplot)
library(sf)
library(gridExtra)
## Changing Working Directory and Reading Dataset
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
sc_data <- read.csv("./dataset/suicide.csv", header = TRUE, sep = ",")
head(sc_data)
names(sc_data)
summary(sc_data)
# Check if some columns contain interesting information
sc_data_ValueType <- unique(sc_data$ValueType)
length_of_ValueType <- length(sc_data_ValueType)
# ValueType doesn't
sc_data_Period <- unique(sc_data$Period.type)
length_of_Period <- length(sc_data_Period)
# Period.type doesn't
sc_data_Location <- unique(sc_data$Location.type)
length_of_Location <- length(sc_data_Location)
# Location.type doesn't
sc_data_Dim1 <- unique(sc_data$Dim1.type)
length_of_Dim1 <- length(sc_data_Dim1)
# Dim1.type doesn't
# We can remove all four
# Remove uninteresting columns
to_select <-
c("ParentLocation","Location","Period","Dim1","FactValueNumeric","Value");
sc_data_R <- sc_data[ , (names(sc_data) %in% to_select)]
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Rename columns
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Year = Period,
Sex = Dim1,
Mean = FactValueNumeric)
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
ParentLocation
## Loading dependencies
library(kableExtra)
library(car)
library(dplyr)
library(ggplot2)
library(vioplot)
library(sf)
library(gridExtra)
## Changing Working Directory and Reading Dataset
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
sc_data <- read.csv("./dataset/suicide.csv", header = TRUE, sep = ",")
head(sc_data)
names(sc_data)
summary(sc_data)
# Check if some columns contain interesting information
sc_data_ValueType <- unique(sc_data$ValueType)
length_of_ValueType <- length(sc_data_ValueType)
# ValueType doesn't
sc_data_Period <- unique(sc_data$Period.type)
length_of_Period <- length(sc_data_Period)
# Period.type doesn't
sc_data_Location <- unique(sc_data$Location.type)
length_of_Location <- length(sc_data_Location)
# Location.type doesn't
sc_data_Dim1 <- unique(sc_data$Dim1.type)
length_of_Dim1 <- length(sc_data_Dim1)
# Dim1.type doesn't
# We can remove all four
# Remove uninteresting columns
to_select <-
c("ParentLocation","Location","Period","Dim1","FactValueNumeric");
sc_data_R <- sc_data[ , (names(sc_data) %in% to_select)]
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Rename columns
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Year = Period,
Sex = Dim1,
Value = FactValueNumeric)
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
sc_data_R <- sc_data_R %>%
group_by(Country, Year) %>%
pivot_wider(names_from = Sex, values_from = Value)
library(dplyr)
# Aggregate Sex values in the same Country-Year row
sc_data_R <- sc_data_R %>%
group_by(Country, Year) %>%
pivot_wider(names_from = Sex, values_from = Value)
sc_data_R <- sc_data[ , (names(sc_data) %in% to_select)]
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Rename columns
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Year = Period,
Sex = Dim1,
Value = FactValueNumeric)
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Aggregate Sex values in the same Country-Year row
sc_data_R <- sc_data_R %>%
group_by(Country, Year, Sex) %>%
summarize(Value = sum(Value)) %>%
spread(key = Sex, value = Value, fill = 0)
library(reshape2)
install.packages("reshape2")
library(reshape2)
# Rename columns
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Year = Period,
Sex = Dim1,
Value = FactValueNumeric)
sc_data_R <- sc_data[ , (names(sc_data) %in% to_select)]
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Rename columns
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Year = Period,
Sex = Dim1,
Value = FactValueNumeric)
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Aggregate Sex values in the same Country-Year row
# Raggruppa il dataframe per Country, Year e Sex e calcola i valori per ogni sesso
sc_data_R <- dcast(sc_data_R, Country + Year ~ Sex, value.var = "Value", fun.aggregate = sum)
# Ordina il dataframe per Country e Year
sc_data_R <- sc_data_R[order(sc_data_R$Country, sc_data_R$Year), ]
View(sc_data_R)
View(sc_data_R)
sc_data_R <- sc_data[ , (names(sc_data) %in% to_select)]
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Rename columns
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Year = Period,
Sex = Dim1,
Value = FactValueNumeric)
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Aggregate Sex values in the same Country and Year row
sc_data_R <- dcast(sc_data_R, WorldRegion + Country + Year ~ Sex, value.var = "Value", fun.aggregate = sum)
# Sort the dataset by Country and Year
sc_data_R <- sc_data_R[order(sc_data_R$Country, sc_data_R$Year), ]
# Sort the dataset by WorldRegion + Country + Year
sc_data_R <- sc_data_R[order(sc_data_R$WorldRegion, sc_data_R$Country, sc_data_R$Year), ]
#Checking Nan values
na_counts <- colSums(is.na(sc_data_R))
print(na_counts)
total_samples <- nrow(sc_data_R)
print(total_samples)
sc_data_R_c <- sc_data_R %>%
filter(!is.na(value))
# Controlla se ci sono valori nulli nella colonna 'Value'
any(is.na(data$Value))
## Loading dependencies
library(kableExtra)
library(car)
library(dplyr)
library(reshape2)
library(ggplot2)
library(vioplot)
library(sf)
library(gridExtra)
## Changing Working Directory and Reading Dataset
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
sc_data <- read.csv("./dataset/suicide.csv", header = TRUE, sep = ",")
head(sc_data)
names(sc_data)
summary(sc_data)
# Check if some columns contain interesting information
sc_data_ValueType <- unique(sc_data$ValueType)
length_of_ValueType <- length(sc_data_ValueType)
# ValueType doesn't
sc_data_Period <- unique(sc_data$Period.type)
length_of_Period <- length(sc_data_Period)
# Period.type doesn't
sc_data_Location <- unique(sc_data$Location.type)
length_of_Location <- length(sc_data_Location)
# Location.type doesn't
sc_data_Dim1 <- unique(sc_data$Dim1.type)
length_of_Dim1 <- length(sc_data_Dim1)
# Dim1.type doesn't
# We can remove all four
# Remove uninteresting columns
to_select <-
c("ParentLocation","Location","Period","Dim1","FactValueNumeric");
sc_data_R <- sc_data[ , (names(sc_data) %in% to_select)]
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Rename columns
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Year = Period,
Sex = Dim1,
Value = FactValueNumeric)
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Controlla se ci sono valori nulli nella colonna 'Value'
any(is.na(data$Value))
# Controlla se ci sono valori nulli nella colonna 'Value'
any(is.na(sc_data_R$Value))
# Calcola il numero di anni per ciascun paese
year_count <- sc_data_R %>%
group_by(Country) %>%
summarise(NumYears = n_distinct(Year))
# Verifica se tutti i paesi hanno lo stesso numero di anni
all(year_count$NumYears == max(year_count$NumYears))
# Aggregate Sex values in the same WorldRegion + Country + Year row
sc_data_R <- dcast(sc_data_R, WorldRegion + Country + Year ~ Sex, value.var = "Value", fun.aggregate = sum)
# Sort the dataset by WorldRegion + Country + Year
sc_data_R <- sc_data_R[order(sc_data_R$WorldRegion, sc_data_R$Country, sc_data_R$Year), ]
## Loading dependencies
library(kableExtra)
library(car)
library(dplyr)
library(reshape2)
library(ggplot2)
library(vioplot)
library(sf)
library(gridExtra)
## Changing Working Directory and Reading Dataset
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
sc_data <- read.csv("./dataset/suicide.csv", header = TRUE, sep = ",")
head(sc_data)
names(sc_data)
summary(sc_data)
# Check if some columns contain interesting information
sc_data_ValueType <- unique(sc_data$ValueType)
length_of_ValueType <- length(sc_data_ValueType)
# ValueType doesn't
sc_data_Period <- unique(sc_data$Period.type)
length_of_Period <- length(sc_data_Period)
# Period.type doesn't
sc_data_Location <- unique(sc_data$Location.type)
length_of_Location <- length(sc_data_Location)
# Location.type doesn't
sc_data_Dim1 <- unique(sc_data$Dim1.type)
length_of_Dim1 <- length(sc_data_Dim1)
# Dim1.type doesn't
# We can remove all four
# Remove uninteresting columns
to_select <-
c("ParentLocation","Location","Period","Dim1","FactValueNumeric");
sc_data_R <- sc_data[ , (names(sc_data) %in% to_select)]
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Rename columns
sc_data_R <- sc_data_R %>%
rename(WorldRegion = ParentLocation,
Country = Location,
Year = Period,
Sex = Dim1,
Value = FactValueNumeric)
head(sc_data_R)
names(sc_data_R)
summary(sc_data_R)
# Look for null values in the feature 'Value'
any(is.na(sc_data_R$Value))
# No null values
# Calculate no. of years for every country
year_count <- sc_data_R %>%
group_by(Country) %>%
summarise(NumYears = n_distinct(Year))
# Check if every country has got the same no. of years
all(year_count$NumYears == max(year_count$NumYears))
# Every country has got the same number of years
# Aggregate Sex values in the same WorldRegion + Country + Year row
sc_data_R <- dcast(sc_data_R, WorldRegion + Country + Year ~ Sex, value.var = "Value", fun.aggregate = sum)
# Sort the dataset by WorldRegion + Country + Year
sc_data_R <- sc_data_R[order(sc_data_R$WorldRegion, sc_data_R$Country, sc_data_R$Year), ]
# ** Exploratory Analysis Begin **
#Check the distribution of values
hist(sc_data_R$value, breaks = 20, main = "Value distribution", xlab = "Value", cex.main = 1.15, cex.lab = 1.15)
View(sc_data_R)
View(sc_data_R)
hist(sc_data_R$value, breaks = 20, main = "Value distribution", xlab = "Both Sexes", cex.main = 1.15, cex.lab = 1.15)
hist(sc_data_R$value, breaks = 20, main = "Value distribution", xlab = "Both sexes", cex.main = 1.15, cex.lab = 1.15)
sc_data_R <- sc_data_R %>% rename(Total = 'Both sexes')
#Check the distribution of values
hist(sc_data_R$Total, breaks = 20, main = "Value distribution", xlab = "Value", cex.main = 1.15, cex.lab = 1.15)
##Explore "sex" feature
boxplot(value ~ Total, data = sc_data_R, main = "Differences in new infections between males and females",
xlab = "Sex", ylab = "Value", col = "green")
head(sc_data_R)
ggplot(data = sc_data_R, aes(x = WorldRegion, y = c(Female, Male))) +
geom_boxplot() +
labs(title = "Distribuzione di Female e Male per WorldRegion",
y = "Valore") +
theme_minimal()
# Crea un nuovo dataframe con le colonne "Female" e "Male" impilate
stacked_data <- stack(sc_data_R[c("Female", "Male")])
# Crea un boxplot con le colonne "Female" e "Male" sulle ascisse
ggplot(data = stacked_data, aes(x = ind, y = values)) +
geom_boxplot() +
labs(title = "Distribuzione di Female e Male",
x = "Genere",
y = "Valore") +
theme_minimal()
ggplot(data = stacked_data, aes(x = ind, y = values)) +
geom_boxplot() +
labs(title = "Distribuzione di Female e Male",
x = "Genere",
y = "Valore") +
theme_minimal()+
scale_fill_viridis(discrete = TRUE, alpha=0.6) +
geom_jitter(color="black", size=0.4, alpha=0.9) +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(size=11)
) +
ggtitle("A boxplot with jitter") +
xlab("")
library(tidyverse)
library(tidyverse)
library(hrbrthemes)
library(viridis)
# Crea un boxplot con le colonne "Female" e "Male" sulle ascisse
ggplot(data = stacked_data, aes(x = ind, y = values)) +
geom_boxplot() +
labs(title = "Distribuzione di Female e Male",
x = "Genere",
y = "Valore") +
theme_minimal()+
scale_fill_viridis(discrete = TRUE, alpha=0.6) +
geom_jitter(color="black", size=0.4, alpha=0.9) +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(size=11)
) +
ggtitle("A boxplot with jitter") +
xlab("")
# Crea un boxplot con le colonne "Female" e "Male" sulle ascisse
ggplot(data = stacked_data, aes(x = ind, y = values)) +
geom_boxplot() +
labs(title = "Distribuzione di Female e Male",
x = "Genere",
y = "Valore") +
scale_fill_viridis(discrete = TRUE, alpha=0.6) +
geom_jitter(color="black", size=0.4, alpha=0.9) +
theme_ipsum() +
theme(
legend.position="none",
plot.title = element_text(size=11)
) +
ggtitle("A boxplot with jitter") +
xlab("")
#Check the distribution of values
hist(sc_data_R$Total, breaks = 20, main = "Value distribution", xlab = "Value", cex.main = 1.15, cex.lab = 1.15)
# Crea un nuovo dataframe con le colonne "Female" e "Male" impilate
stacked_data <- stack(sc_data_R[c("Female", "Male")])
# Crea un boxplot con le colonne "Female" e "Male" sulle ascisse
ggplot(data = stacked_data, aes(x = ind, y = values)) +
geom_boxplot() +
labs(title = "Distribuzione di Female e Male",
x = "Genere",
y = "Valore") +
theme_minimal()
ggplot(data = subset_data, aes(x = reorder(Country, -Total), y = Total)) +
geom_bar(stat = "identity", fill = "skyblue") +
labs(title = "Distribuzione di Total per Paese",
x = "Paesi", y = "Total") +
coord_flip() +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(data = sc_data_R, aes(x = reorder(Country, -Total), y = Total)) +
geom_bar(stat = "identity", fill = "skyblue") +
labs(title = "Distribuzione di Total per Paese",
x = "Paesi", y = "Total") +
coord_flip() +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(data = sc_data_R, aes(x = reorder(WorldRegion, -Total), y = Total)) +
geom_bar(stat = "identity", fill = "skyblue") +
labs(title = "Distribuzione di Total per Regione",
x = "Regione", y = "Total") +
coord_flip() +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(data = tuo_dataset, aes(x = WorldRegion, y = c(Female, Male))) +
geom_boxplot() +
labs(title = "Distribuzione di Female e Male per WorldRegion",
y = "Valore") +
theme_minimal()
ggplot(data = sc_data_R, aes(x = WorldRegion, y = c(Female, Male))) +
geom_boxplot() +
labs(title = "Distribuzione di Female e Male per WorldRegion",
y = "Valore") +
theme_minimal()
ggplot(data = sc_data_R, aes(x = WorldRegion, y = Total)) +
geom_boxplot() +
labs(title = "Distribuzione di Female e Male per WorldRegion",
y = "Valore") +
theme_minimal()
ggplot(data = tuo_dataset, aes(x = WorldRegion, y = c(Male, Female))) +
geom_boxplot(aes(fill = factor(variable))) +
labs(title = "Distribuzione di Male e Female per Regione del Mondo",
x = "Regione del Mondo", y = "Valore") +
scale_fill_manual(values = c("Male" = "blue", "Female" = "pink")) +
theme_minimal() +
theme(legend.title = element_blank()) +
guides(fill = guide_legend(title = "Genere"))
ggplot(data = sc_data_R, aes(x = WorldRegion, y = c(Male, Female))) +
geom_boxplot(aes(fill = factor(variable))) +
labs(title = "Distribuzione di Male e Female per Regione del Mondo",
x = "Regione del Mondo", y = "Valore") +
scale_fill_manual(values = c("Male" = "blue", "Female" = "pink")) +
theme_minimal() +
theme(legend.title = element_blank()) +
guides(fill = guide_legend(title = "Genere"))
ggplot(data = sc_data_R, aes(x = WorldRegion, y = c(Male, Female))) +
geom_boxplot(aes(fill = factor(WorldRegion))) +
labs(title = "Distribuzione di Male e Female per Regione del Mondo",
x = "Regione del Mondo", y = "Valore") +
scale_fill_manual(values = c("Male" = "blue", "Female" = "pink")) +
theme_minimal() +
theme(legend.title = element_blank()) +
guides(fill = guide_legend(title = "Genere"))
# Crea un boxplot per "Male" e "Female" per ogni regione del mondo
ggplot(data = tuo_dataset, aes(x = WorldRegion, y = Total, fill = factor(WorldRegion))) +
geom_boxplot() +
labs(title = "Distribuzione di Male e Female per Regione del Mondo",
x = "Regione del Mondo", y = "Valore") +
scale_fill_brewer(palette = "Set3") +  # Cambia la palette dei colori a tuo piacimento
theme_minimal()
# Crea un boxplot per "Male" e "Female" per ogni regione del mondo
ggplot(data = sc_data_R, aes(x = WorldRegion, y = Total, fill = factor(WorldRegion))) +
geom_boxplot() +
labs(title = "Distribuzione di Male e Female per Regione del Mondo",
x = "Regione del Mondo", y = "Valore") +
scale_fill_brewer(palette = "Set3") +  # Cambia la palette dei colori a tuo piacimento
theme_minimal()
stacked_data <- melt(tuo_dataset, id.vars = "WorldRegion")
stacked_data <- melt(sc_data_R, id.vars = "WorldRegion")
# Crea un boxplot separato per "Male" e "Female" per ogni regione del mondo
ggplot(data = stacked_data, aes(x = WorldRegion, y = value, fill = variable)) +
geom_boxplot() +
labs(title = "Distribuzione di Male e Female per Regione del Mondo",
x = "Regione del Mondo", y = "Valore") +
scale_fill_manual(values = c("Male" = "blue", "Female" = "pink")) +
theme_minimal()
